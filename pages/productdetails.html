<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chi Ti·∫øt S·∫£n Ph·∫©m</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/assets/styles/productdetails.css">
    <script src="https://kit.fontawesome.com/a076d05399.js"></script>
</head>
<body>

    <div id="header"></div> <!-- Load header ·ªü ƒë√¢y -->

    <!--Th√¥ng tin s·∫£n ph·∫©m-->
    <div class="container-fluid center">
        <div class="product">
            <img src="https://product.hstatic.net/200000195587/product/ao-thun-bo-doi_d2094e7037d348c98b25252f1d805530_master.jpg" alt="√Åo b√≥ng ƒë√° Arsenal">
            <div class="details">
                <h2>B·ªô qu·∫ßn √°o ƒë√° b√≥ng Arsenal - FEX Gai Th√°i, Logo Th√™u</h2>
                <p class="price">180.000 VNƒê</p>
                <p class="stock">C√≤n h√†ng: 15 s·∫£n ph·∫©m</p>
                <p class="rating">ƒê√°nh gi√°: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (12 ƒë√°nh gi√°)</p>
                <div class="size-selection">
                    <p>Ch·ªçn k√≠ch th∆∞·ªõc:</p>
                    <button class="size-btn">S (45-55kg)</button>
                    <button class="size-btn">M (55-65kg)</button>
                    <button class="size-btn">L (65-75kg)</button>
                    <button class="size-btn">XL (75-85kg)</button>
                </div>
                <div class="color-selection">
                    <p>Ch·ªçn m√†u s·∫Øc:</p>
                    <button class="color-btn" style=" color: black;">N√¢u</button>
                    <button class="color-btn" style=" color: black;">ƒêen</button>
                    <button class="color-btn" style=" color: black;">Xanh</button>
                </div>
                <div class="quantity-selector">
                    <button type="button">-</button>
                    <input type="text" value="1">
                    <button type="button">+</button>
                </div>
                <div class="buttons">
                    <button>Th√™m v√†o gi·ªè h√†ng</button>
                    <button>Mua ngay</button>
                </div>
            </div>
        </div>


        <!--Deal s·∫£n ph·∫©m-->
        <h3 class ="title_deal">Mua th√™m deal s·ªëc</h3>
        <div class="bundle">
            <div class="bundle-items">
                <img src="https://product.hstatic.net/200000195587/product/ao-thun-bo-doi_d2094e7037d348c98b25252f1d805530_master.jpg" alt="B·ªô qu·∫ßn √°o b√≥ng ƒë√°">
                <p>B·ªô qu·∫ßn √°o ƒë√° b√≥ng Arsenal<br><strong>180.000 VNƒê</strong></p>
                <span>+</span>
                <div class="bundle-items">
                    <div class="deal-item">
                        <input type="checkbox" id="dealCheckbox">
                    </div>
                    <div class="deal-item">
                        <img src="https://product.hstatic.net/200000195587/product/ao-thun-bo-doi_d2094e7037d348c98b25252f1d805530_master.jpg" alt="Qu·∫ßn short nam">
                    </div>
                    <div class="deal-item">
                        <p>Qu·∫ßn short nam th·ªÉ thao <button id="openPopup">üé®</button><br> <strong>180.000 VNƒê</strong></p>
                        <p id="selectedOptions"></p>
                    
                    </div>
                </div>
            </div>

            <div class="bundle-summary">
                <p><strong>T·ªïng c·ªông: 200.000 VNƒê</strong></p>
                <p>Ti·∫øt ki·ªám: 160.000 VNƒê</p>
                <button>B·∫•m ƒë·ªÉ mua deal s·ªëc</button>
            </div>
        </div>

        <!--Popup ch·ªçn m√†u s·∫Øc v√† k√≠ch th∆∞·ªõc-->
        <div class="overlay" id="overlay"></div>
        <div class="popup" id="popup">
            <h3>Ch·ªçn m√†u s·∫Øc v√† k√≠ch th∆∞·ªõc</h3>
            <p>Ch·ªçn k√≠ch th∆∞·ªõc:</p>
            <button class="size-btn" data-size="S">S</button>
            <button class="size-btn" data-size="M">M</button>
            <button class="size-btn" data-size="L">L</button>
            <button class="size-btn" data-size="XL">XL</button>
            <p>Ch·ªçn m√†u s·∫Øc:</p>
            <button class="color-btn" data-color="N√¢u">N√¢u</button>
            <button class="color-btn" data-color="ƒêen">ƒêen</button>
            <button class="color-btn" data-color="Xanh">Xanh</button>
            <br><br>
            <button id="confirmSelection">X√°c nh·∫≠n</button>
            <button id="closePopup">ƒê√≥ng</button>
        </div>

        <!--M√¥ t·∫£ s·∫£n ph·∫©m-->

        <div class="description">
            <h3>M√¥ t·∫£ s·∫£n ph·∫©m</h3>
            <p>- M√†u s·∫Øc: M√†u s·∫Øc, m·∫´u m√£ gi·ªëng h√¨nh.</p>
            <p>- Logo th√™u/in C·ª±c tinh t·∫ø v√† ch·∫Øc ch·∫Øn.</p>
            <p>- K√≠ch c·ª°: S - M - L - XL - XXL ( Form Ch√¢u √Çu )</p>
            <p>- Ch·∫•t li·ªáu: V·∫£i Polyester</p>
            <p>- Form: Ch√¢u √Çu</p>
            <p>- Quy c√°ch: Nguy√™n b·ªô</p>
        </div>
    </div>

    <div id="footer"></div> <!-- Load footer ·ªü ƒë√¢y -->
    <script type="module" src="/js/services/login.js"></script>
    <script>
        // JavaScript ƒë·ªÉ x·ª≠ l√Ω s·ª± ki·ªán ch·ªçn m√†u s·∫Øc v√† k√≠ch th∆∞·ªõc
        document.querySelectorAll('.size-btn').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.size-btn').forEach(btn => btn.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
    
        document.querySelectorAll('.color-btn').forEach(button => {
            button.addEventListener('click', function() {
                document.querySelectorAll('.color-btn').forEach(btn => btn.classList.remove('selected'));
                this.classList.add('selected');
            });
        });
    
        document.addEventListener("DOMContentLoaded", function() {
            const quantityInput = document.querySelector(".quantity-selector input");
            const minusButton = document.querySelector(".quantity-selector button:first-of-type");
            const plusButton = document.querySelector(".quantity-selector button:last-of-type");
    
            if (quantityInput && minusButton && plusButton) { // Ki·ªÉm tra xem c√≥ t·ªìn t·∫°i c√°c ph·∫ßn t·ª≠ kh√¥ng
                minusButton.addEventListener("click", function() {
                    let currentValue = parseInt(quantityInput.value) || 1;
                    if (currentValue > 1) {
                        quantityInput.value = currentValue - 1;
                    }
                });
    
                plusButton.addEventListener("click", function() {
                    let currentValue = parseInt(quantityInput.value) || 1;
                    quantityInput.value = currentValue + 1;
                });
    
                // ƒê·∫£m b·∫£o ng∆∞·ªùi d√πng ch·ªâ nh·∫≠p s·ªë h·ª£p l·ªá
                quantityInput.addEventListener("input", function() {
                    if (isNaN(this.value) || this.value < 1) {
                        this.value = 1;
                    }
                });
            }
        });
        document.addEventListener("DOMContentLoaded", function() {
            // Load header v√† footer
            fetch("/pages/components/header.html")
                .then(response => response.text())
                .then(data => {
                    document.getElementById("header").innerHTML = data;

                    // ƒê·ª£i header t·∫£i xong r·ªìi m·ªõi kh·ªüi t·∫°o dropdown t√†i kho·∫£n
                    setTimeout(initializeAccountDropdown, 100);
                });

            fetch("/pages/components/footer.html")
                .then(response => response.text())
                .then(data => document.getElementById("footer").innerHTML = data);
        });

        function initializeAccountDropdown() {
            const accountButton = document.querySelector(".account-dropdown-button"); // C·∫≠p nh·∫≠t selector ƒë√∫ng v·ªõi header
            const dropdownMenu = document.querySelector(".account-dropdown-menu");

            if (accountButton && dropdownMenu) {
                accountButton.addEventListener("click", function(event) {
                    event.stopPropagation(); // NgƒÉn s·ª± ki·ªán click lan ra ngo√†i
                    dropdownMenu.classList.toggle("show");
                });

                document.addEventListener("click", function(event) {
                    if (!accountButton.contains(event.target) && !dropdownMenu.contains(event.target)) {
                        dropdownMenu.classList.remove("show");
                    }
                });
            } else {
                console.warn("Kh√¥ng t√¨m th·∫•y n√∫t t√†i kho·∫£n ho·∫∑c menu dropdown.");
            }
        }
        let selectedSize = "";
        let selectedColor = "";

        document.getElementById("openPopup").addEventListener("click", function() {
            document.getElementById("popup").style.display = "block";
            document.getElementById("overlay").style.display = "block";
        });

        document.getElementById("closePopup").addEventListener("click", function() {
            document.getElementById("popup").style.display = "none";
            document.getElementById("overlay").style.display = "none";
        });

        document.querySelectorAll(".size-btn").forEach(button => {
            button.addEventListener("click", function() {
                document.querySelectorAll(".size-btn").forEach(btn => btn.classList.remove("selected"));
                this.classList.add("selected");
                selectedSize = this.getAttribute("data-size");
            });
        });

        document.querySelectorAll(".color-btn").forEach(button => {
            button.addEventListener("click", function() {
                document.querySelectorAll(".color-btn").forEach(btn => btn.classList.remove("selected"));
                this.classList.add("selected");
                selectedColor = this.getAttribute("data-color");
            });
        });

        document.getElementById("confirmSelection").addEventListener("click", function() {
            if (selectedSize && selectedColor) {
                document.getElementById("selectedOptions").innerText = `ƒê√£ ch·ªçn: ${selectedColor}, Size ${selectedSize}`;
                document.getElementById("popup").style.display = "none";
                document.getElementById("overlay").style.display = "none";
            } else {
                alert("Vui l√≤ng ch·ªçn ƒë·∫ßy ƒë·ªß th√¥ng tin!");
            }
        });
    </script>
    </script>
</body>
</html>    